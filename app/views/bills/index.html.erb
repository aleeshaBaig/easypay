<div class="container">


<div class="container">
  <div>
      <div class="row">
    <div class="col-md-6">
 
      
    </div>
    <div class="col-md-3">
     </div>
    <div class="col-md-3">
       
      <br>
    </div>
  </div>
  </div>
<h2 class="headingtable"><%= link_to'My Bills',bills_url %></h2>
    
   <br>
 
   <p id= "demo" ></p>

<div class="row">
<div class="col-md-2">
    <%= form_with do |form| %>
    <%= form.select :billing_month, Bill.billing_months.keys, {prompt: true}, class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"%>
    <% end %>
</div>
<div class="col-md-3">

<%= form_with do |form| %>   
    <label for="simple-search" class="sr-only">Search</label>
    <div class="relative w-full">
        <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>
        </div>
        <%= form.text_field :search_bar_field , class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" ,placeholder:"Search" %>
    </div>
  
<% end %>



</div>
<div class="col-md-1">
<button type="submit" id="search_bar" class="p-2.5 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
<span class="sr-only">Search</span>
</button>

</div>
<div class="col-md-3">
<%= form_with do |form| %>
  <%= form.date_field :date_from %>
  to
  <%= form.date_field :date_to %>
  <% end %>
  </div>
  <div class="col-md-1">
  <button id="search" class="text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800">search</button>

 
 </div>


</div>
<br>
<div class="row">
<div class="col-md-4">
 
</div>
<div class="col-md-3">
 
</div>
<div class="col-md-2">
 
</div>
<div class="col-md-2">
       <%= button_to'Add New Bill', new_bill_url, class:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-lime-300 dark:focus:ring-lime-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2", :method => :get %>
 </div>
</div>
<table class="table table-striped table-bordered" id="table11"    style="width: -webkit-fill-available;">   
 <thead>
  <tr>   
     <th>Amount</th>   
    <th>Billing Month </th>
    <th>Late_Fee</th>   
    <th>Reading Date</th>
    <th>Issuance Date</th>
    <th>Due Date</th> 
    <th>Status</th>   
  </tr>
  </thead>
     <tbody id="filter_table">
       <%= render @bills %>
  </tbody>
</table> 
   
</div>
 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<script>

$(document).ready(function()
{
 $('select').on("change",function(e){

  var billing_month=e.target.value;
 

      $.ajax({
        type:"GET",
        url:"/filter_billing_month",
        data:{data: billing_month},
        success: function(billing_month){
           console.log("ok");
        },
        error:function(XMLHttpRequest, textStatus, errorThrown){
          console.log(XMLHttpRequest.responseText);
         }
      });
 });// end role_select
});// end role_select


</script>
<script>
$(document).ready(function(){
  $('#search').on("click",function(e){
   var date_from = $("#date_from").val();
   var date_to  = $("#date_to").val();
   alert("ok");
   $.ajax({
    type: "GET",
    url: "/date_range",
    data: {date_from: date_from, date_to: date_to},
    success: function(){
      alert("ok")
      console.log("ok")
    },
    error: function(XMLHttpRequest, textStatus, errorThrown){
      console.log(XMLHttpRequest, responseText)
    }
   })
       
      
       
     
  });
});
</script>
<script>
$(document).ready(function(){
  $("#search_bar").on("click",function(e){
    var search_bar_field = $("#search_bar_field").val();
    alert(search_bar_field);
    $.ajax({
      type:"GET",
      url: "/search_bar_field",
      data: {search_bar_field: search_bar_field},
      success: function(){
        alert("ok");
      },
      error: function(XMLHttpRequest, textStatus, errorThrown){
        console.log(XMLHttpRequest, responseText)
      }
    });
   });
});
</script>